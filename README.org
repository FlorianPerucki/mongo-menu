#+TITLE: Collect

This is an alpha, currently tested & improved

Feedbacks, issues & PRs welcome

* TODOs

 - Fix hydra options missing after ivy-resume

 - Handle mongo errors (syntax error, connection error)

 - Document available functions + screenshots

 - Test different mongo client versions

 - Reload buffer (i.e. replay query) when pressing 'g'

 - Fetch a collection's indices to build its default column templates

 - Handle pagination ?

* Databases

** MongoDB

** TODO ElasticSearch

** TODO SQLite

** TODO CSV with csvcut ?

* Quickstart

#+BEGIN_SRC lisp
(use-package collect
  :load-path "/path/to/collect" ; since this is not on MELPA yet
  :config
  (setq collect-databases '(("mydb1" . ["127.0.0.1" "user" "password"])
                               ("mydb2" . ["some.dns" "user" "password"])))

  ;; see tabulated-list mode for the columns specification
  (setq collect-collection-templates
        '(("mydb1" . (("collection1" . [("_id" 30 nil) ("field1" 50 nil) ("field2" 50 nil) ("field3" 20 nil)])
                      ("collection2" . [("_id" 30 nil)])))
          ("mydb2" . (("other_collection" . [("_id" 30 nil) ("field2" 40 nil) ("nested.field" 20 nil)])))))
  )
#+END_SRC

Now you can M-x collect-databases-buffer and press '?' for help
